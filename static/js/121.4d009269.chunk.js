"use strict";(self.webpackChunktoolbox=self.webpackChunktoolbox||[]).push([[121],{8494:function(e,n,t){t.r(n),t.d(n,{CodeBlockEditor:function(){return c}});var r=t(9439),o=t(6869),u=t(1233),l=t(8552),i=t(8702),c=(t(3621),t(4160),t(5346),t(9487),t(8078),t(9140),t(9564),t(1846),t(8382),t(1326),t(7952),t(7068),t(6655),t(2835),t(1485),t(5884),t(8081),t(3744),t(188),t(4703),t(657),t(7812),function(e){var n=e.nodeKey,t=e.code,c=e.language,d=e.onChange,a=e.focusEmitter,v=(0,l.u)("activeEditor"),s=(0,r.Z)(v,1)[0],f=(0,i.u)(n,"codeblock",c),g=(0,l.a)("activeEditorType");u.useEffect((function(){a.subscribe((function(){var e,t;null==(t=null==(e=null==f?void 0:f.current)?void 0:e.getCodemirror())||t.focus(),g({type:"codeblock",nodeKey:n})}))}),[a,f,g,n]);var m=u.useCallback((function(e){null==s||s.update((function(){d(e)}))}),[d,s]);return u.createElement("div",{className:l.s.sandpackWrapper},u.createElement(o.oT,null,u.createElement(o.pq,{showLineNumbers:!0,initMode:"immediate",key:c,filePath:"file.".concat(c||"txt"),code:t,onCodeUpdate:m,ref:f})))})},8702:function(e,n,t){t.d(n,{u:function(){return i}});var r=t(9439),o=t(1326),u=t(1233),l=t(8552);function i(e,n,t){var i=(0,l.u)("activeEditor"),c=(0,r.Z)(i,1)[0],d=(0,l.a)("activeEditorType"),a=u.useRef(null),v=u.useRef(!1),s=u.useRef(!1),f=u.useCallback((function(){d({type:n,nodeKey:e})}),[e,d,n]),g=u.useCallback((function(n){var t,r,u,l;if("ArrowDown"===n.key){var i=null==(r=null==(t=null==a?void 0:a.current)?void 0:t.getCodemirror())?void 0:r.state;if(i)i.doc.length===i.selection.ranges[0].to&&(v.current?(null==c||c.update((function(){var n,t,r=(0,o.$getNodeByKey)(e);r.getNextSibling()?(null==(t=null==(n=null==a?void 0:a.current)?void 0:n.getCodemirror())||t.contentDOM.blur(),r.selectNext()):r.insertAfter((0,o.$createParagraphNode)())})),v.current=!1):v.current=!0)}else if("ArrowUp"===n.key){var d=null==(l=null==(u=null==a?void 0:a.current)?void 0:u.getCodemirror())?void 0:l.state;if(d)0===d.selection.ranges[0].from&&(s.current?(null==c||c.update((function(){var n,t,r=(0,o.$getNodeByKey)(e);r.getPreviousSibling()&&(null==(t=null==(n=null==a?void 0:a.current)?void 0:n.getCodemirror())||t.contentDOM.blur(),r.selectPrevious())})),s.current=!1):s.current=!0)}else"Enter"===n.key&&n.stopPropagation()}),[c,e]);return u.useEffect((function(){var e=a.current;return setTimeout((function(){var n,t,r,o;null==(t=null==(n=null==e?void 0:e.getCodemirror())?void 0:n.contentDOM)||t.addEventListener("focus",f),null==(o=null==(r=null==e?void 0:e.getCodemirror())?void 0:r.contentDOM)||o.addEventListener("keydown",g)}),100),function(){var n,t;null==(n=null==e?void 0:e.getCodemirror())||n.contentDOM.removeEventListener("focus",f),null==(t=null==e?void 0:e.getCodemirror())||t.contentDOM.removeEventListener("keydown",g)}}),[a,f,g,t]),a}}}]);
//# sourceMappingURL=121.4d009269.chunk.js.map