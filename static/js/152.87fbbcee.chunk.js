"use strict";(self.webpackChunktoolbox=self.webpackChunktoolbox||[]).push([[152],{2152:function(e,n,t){t.r(n),t.d(n,{SandpackEditor:function(){return f}});var r=t(4942),o=t(1413),u=t(9439),l=t(6869),i=t(8081),c=t(1233),a=t(8552),d=t(8702),s=(t(3621),t(4160),t(5346),t(9487),t(8078),t(9140),t(9564),t(1846),t(8343),t(1326),t(7952),t(7068),t(6655),t(2835),t(1485),t(5884),t(3744),t(188),t(4703),t(657),t(7812),function(e){var n=e.onChange,t=e.snippetFileName;return n((0,l.X3)().sandpack.files[t].code),null});var f=function(e){var n=e.nodeKey,t=e.code,f=e.meta,v=e.onChange,p=e.focusEmitter,m=(0,i.useLexicalComposerContext)(),g=(0,u.Z)(m,1)[0],k=(0,a.u)("sandpackConfig"),C=(0,u.Z)(k,1)[0],E=(0,d.u)(n,"sandpack","jsx"),y=(0,a.a)("activeEditorType");c.useEffect((function(){p.subscribe((function(){var e,t;null==(t=null==(e=null==E?void 0:E.current)?void 0:e.getCodemirror())||t.focus(),y({type:"sandpack",nodeKey:n})}))}),[p,E,y,n]);var b=c.useCallback((function(e){g.update((function(){v(e)}))}),[v,g]),h=function(e,n){return n.presets.find((function(n){return n.meta===e}))||n.presets.find((function(e){return e.name===n.defaultPreset}))}(f,C);if(!h)throw new Error("No sandpack preset found for meta: ".concat(f));return c.createElement(l.oT,{template:h.sandpackTemplate,theme:h.sandpackTheme,files:(0,o.Z)((0,r.Z)({},h.snippetFileName,t),Object.entries(h.files||{}).reduce((function(e,n){var t=(0,u.Z)(n,2),l=t[0],i=t[1];return(0,o.Z)((0,o.Z)({},e),(0,r.Z)({},l,{code:i,readOnly:!0}))}),{})),customSetup:{dependencies:h.dependencies}},c.createElement(l.sp,null,c.createElement(l._V,{showLineNumbers:!0,showInlineErrors:!0,ref:E}),c.createElement(l.Gj,null)),c.createElement(s,{onChange:b,snippetFileName:h.snippetFileName}))}},8702:function(e,n,t){t.d(n,{u:function(){return i}});var r=t(9439),o=t(1326),u=t(1233),l=t(8552);function i(e,n,t){var i=(0,l.u)("activeEditor"),c=(0,r.Z)(i,1)[0],a=(0,l.a)("activeEditorType"),d=u.useRef(null),s=u.useRef(!1),f=u.useRef(!1),v=u.useCallback((function(){a({type:n,nodeKey:e})}),[e,a,n]),p=u.useCallback((function(n){var t,r,u,l;if("ArrowDown"===n.key){var i=null==(r=null==(t=null==d?void 0:d.current)?void 0:t.getCodemirror())?void 0:r.state;if(i)i.doc.length===i.selection.ranges[0].to&&(s.current?(null==c||c.update((function(){var n,t,r=(0,o.$getNodeByKey)(e);r.getNextSibling()?(null==(t=null==(n=null==d?void 0:d.current)?void 0:n.getCodemirror())||t.contentDOM.blur(),r.selectNext()):r.insertAfter((0,o.$createParagraphNode)())})),s.current=!1):s.current=!0)}else if("ArrowUp"===n.key){var a=null==(l=null==(u=null==d?void 0:d.current)?void 0:u.getCodemirror())?void 0:l.state;if(a)0===a.selection.ranges[0].from&&(f.current?(null==c||c.update((function(){var n,t,r=(0,o.$getNodeByKey)(e);r.getPreviousSibling()&&(null==(t=null==(n=null==d?void 0:d.current)?void 0:n.getCodemirror())||t.contentDOM.blur(),r.selectPrevious())})),f.current=!1):f.current=!0)}else"Enter"===n.key&&n.stopPropagation()}),[c,e]);return u.useEffect((function(){var e=d.current;return setTimeout((function(){var n,t,r,o;null==(t=null==(n=null==e?void 0:e.getCodemirror())?void 0:n.contentDOM)||t.addEventListener("focus",v),null==(o=null==(r=null==e?void 0:e.getCodemirror())?void 0:r.contentDOM)||o.addEventListener("keydown",p)}),100),function(){var n,t;null==(n=null==e?void 0:e.getCodemirror())||n.contentDOM.removeEventListener("focus",v),null==(t=null==e?void 0:e.getCodemirror())||t.contentDOM.removeEventListener("keydown",p)}}),[d,v,p,t]),d}}}]);
//# sourceMappingURL=152.87fbbcee.chunk.js.map